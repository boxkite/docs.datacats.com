

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Command Reference &mdash; datacats 1.0.1 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/datacats_theme.css" type="text/css" />
  

  

  
    <link rel="top" title="datacats 1.0.1 documentation" href="index.html"/>
        <link rel="next" title="Change Log" href="changelog.html"/>
        <link rel="prev" title="How datacats uses Docker" href="docker.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="index.html" class="fa fa-home"> datacats</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="guide.html">User Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="guide.html#what-is-datacats">What is datacats</a></li>
<li class="toctree-l2"><a class="reference internal" href="guide.html#install-datacats">Install datacats</a></li>
<li class="toctree-l2"><a class="reference internal" href="guide.html#getting-started">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="guide.html#extensions-customization">Extensions &amp; Customization</a></li>
<li class="toctree-l2"><a class="reference internal" href="guide.html#deploying">Deploying</a></li>
<li class="toctree-l2"><a class="reference internal" href="guide.html#shell-access">Shell Access</a></li>
<li class="toctree-l2"><a class="reference internal" href="guide.html#paster-commands">Paster Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="guide.html#multisite">Multisite</a></li>
<li class="toctree-l2"><a class="reference internal" href="guide.html#logs">Logs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a><ul>
<li class="toctree-l2"><a class="reference internal" href="faq.html#run-an-interactive-paster-shell">Run an interactive Paster Shell</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#run-celery-tasks">Run Celery tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#cleaning-the-database-doesn-t-work">Cleaning the database doesn&#8217;t work.</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#insecureplatformwarning">InsecurePlatformWarning</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#working-on-core-ckan">Working on Core CKAN</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#boot2docker-upgrading-or-recovering-from-failures">boot2docker - Upgrading or Recovering from failures</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="docker.html">How datacats uses Docker</a><ul>
<li class="toctree-l2"><a class="reference internal" href="docker.html#images-and-containers">Images and Containers</a></li>
<li class="toctree-l2"><a class="reference internal" href="docker.html#throw-away-containers">Throw-away containers</a></li>
<li class="toctree-l2"><a class="reference internal" href="docker.html#stateless-development">Stateless development</a></li>
<li class="toctree-l2"><a class="reference internal" href="docker.html#devops">DevOps</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Command Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#help">help</a></li>
<li class="toctree-l2"><a class="reference internal" href="#create">create</a></li>
<li class="toctree-l2"><a class="reference internal" href="#deploy">deploy</a></li>
<li class="toctree-l2"><a class="reference internal" href="#info">info</a></li>
<li class="toctree-l2"><a class="reference internal" href="#init">init</a></li>
<li class="toctree-l2"><a class="reference internal" href="#install">install</a></li>
<li class="toctree-l2"><a class="reference internal" href="#less">less</a></li>
<li class="toctree-l2"><a class="reference internal" href="#list">list</a></li>
<li class="toctree-l2"><a class="reference internal" href="#logs">logs</a></li>
<li class="toctree-l2"><a class="reference internal" href="#migrate">migrate</a></li>
<li class="toctree-l2"><a class="reference internal" href="#open">open</a></li>
<li class="toctree-l2"><a class="reference internal" href="#paster">paster</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pull">pull</a></li>
<li class="toctree-l2"><a class="reference internal" href="#purge">purge</a></li>
<li class="toctree-l2"><a class="reference internal" href="#reload">reload</a></li>
<li class="toctree-l2"><a class="reference internal" href="#reset">reset</a></li>
<li class="toctree-l2"><a class="reference internal" href="#shell">shell</a></li>
<li class="toctree-l2"><a class="reference internal" href="#start">start</a></li>
<li class="toctree-l2"><a class="reference internal" href="#stop">stop</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tweak">tweak</a></li>
<li class="toctree-l2"><a class="reference internal" href="#datacats-lesscd">datacats-lesscd</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Change Log</a><ul>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id1">1.0.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id2">1.0.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id3">0.11.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id4">0.11.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id5">0.11.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id6">0.10.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id7">0.9.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id8">0.9.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id9">0.9.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id10">0.9</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id11">0.8</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id12">0.7</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">datacats</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Command Reference</li>
      <li class="wy-breadcrumbs-aside">
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
<span id="forkongithub"><a href="https://github.com/datacats/datacats">Fork me on GitHub</a></span>
  <div class="section" id="command-reference">
<h1>Command Reference<a class="headerlink" href="#command-reference" title="Permalink to this headline">¶</a></h1>
<div class="section" id="help">
<h2>help<a class="headerlink" href="#help" title="Permalink to this headline">¶</a></h2>
<div class="highlight-text"><div class="highlight"><pre>datacats command line interface

Usage:
  datacats COMMAND [ARGUMENTS...]
  datacats --help [COMMAND]
  datacats --version

The datacats commands available are:
  create      Create a new environment
  deploy      Deploy environment to production DataCats.com cloud service
  info        Display information about environment and running containers
  init        Initialize a purged environment or copied environment directory
  install     Install or reinstall Python packages within this environment
  less        Recompile less files in an environment
  list        List all environments for this user
  logs        Display or follow container logs
  migrate     Migrates an environment to the newest datadir format
  open        Open web browser window to this environment
  paster      Run a paster command from the current directory
  pull        Download or update required datacats docker images
  purge       Purge environment database and uploaded files
  reload      Reload environment source and configuration
  reset       Resets a site to the default state
  shell       Run a command or interactive shell within this environment
  start       Create containers and start serving environment
  stop        Stop serving environment and remove all its containers
  tweak       Commands operating on environment data

See &#39;datacats help COMMAND&#39; for information about options and
arguments available to each command.
</pre></div>
</div>
</div>
<div class="section" id="create">
<h2>create<a class="headerlink" href="#create" title="Permalink to this headline">¶</a></h2>
<div class="highlight-text"><div class="highlight"><pre>Create a new environment

Usage:
  datacats create [-bin] [-s NAME] [--address=IP] [--syslog] [--ckan=CKAN_VERSION]
                  [--no-datapusher] ENVIRONMENT_DIR [PORT]

Options:
  --address=IP            Address to listen on (Linux-only) [default: 127.0.0.1]
  --ckan=CKAN_VERSION     Use CKAN version CKAN_VERSION, defaults to 2.3
  -b --bare               Bare CKAN site with no example extension
  -i --image-only         Create the environment but don&#39;t start containers
  -n --no-sysadmin        Don&#39;t prompt for an initial sysadmin user account
  -s --site=NAME          Pick a site to create [default: primary]
  --syslog                Log to the syslog
  --no-datapusher         Don&#39;t install/enable ckanext-datapusher

ENVIRONMENT_DIR is a path for the new environment directory. The last
part of this path will be used as the environment name.
</pre></div>
</div>
</div>
<div class="section" id="deploy">
<h2>deploy<a class="headerlink" href="#deploy" title="Permalink to this headline">¶</a></h2>
<div class="highlight-text"><div class="highlight"><pre>Deploy environment to production DataCats.com cloud service

Usage:
  datacats deploy [--create] [ENVIRONMENT [TARGET_NAME]]

Options:
  --create                Create a new environment on DataCats.com instead
                          of updating an existing environment

ENVIRONMENT may be an environment name or a path to a environment directory.
Default: &#39;.&#39;

TARGET_NAME is the name of the environment on DataCats.com. Defaults to
the environment name.
</pre></div>
</div>
</div>
<div class="section" id="info">
<h2>info<a class="headerlink" href="#info" title="Permalink to this headline">¶</a></h2>
<div class="highlight-text"><div class="highlight"><pre>Display information about environment and running containers

Usage:
  datacats info [-qr] [ENVIRONMENT]

Options:
  -q --quiet         Echo only the web URL or nothing if not running
  -r --remote        Information about DataCats.com cloud instance

ENVIRONMENT may be an environment name or a path to an environment directory.
Default: &#39;.&#39;
</pre></div>
</div>
</div>
<div class="section" id="init">
<h2>init<a class="headerlink" href="#init" title="Permalink to this headline">¶</a></h2>
<div class="highlight-text"><div class="highlight"><pre>Initialize a purged environment or copied environment directory

Usage:
  datacats init [-in] [--syslog] [-s NAME] [--address=IP]
                [ENVIRONMENT_DIR [PORT]]

Options:
  --address=IP            Address to listen on (Linux-only) [default: 127.0.0.1]
  -i --image-only         Create the environment but don&#39;t start containers
  -n --no-sysadmin        Don&#39;t prompt for an initial sysadmin user account
  -s --site=NAME          Pick a site to initialize [default: primary]
  --syslog                Log to the syslog

ENVIRONMENT_DIR is an existing datacats environment directory. Defaults to &#39;.&#39;
</pre></div>
</div>
</div>
<div class="section" id="install">
<h2>install<a class="headerlink" href="#install" title="Permalink to this headline">¶</a></h2>
<div class="highlight-text"><div class="highlight"><pre>Install or reinstall Python packages within this environment

Usage:
  datacats install [-cq] [--address=IP] [ENVIRONMENT]

Options:
  --address=IP          The address to bind to when reloading after install [default: 127.0.0.1]
  -c --clean            Reinstall packages into a clean virtualenv
  -q --quiet            Do not show output from installing packages and requirements.

ENVIRONMENT may be an environment name or a path to an environment directory.
Default: &#39;.&#39;
</pre></div>
</div>
</div>
<div class="section" id="less">
<h2>less<a class="headerlink" href="#less" title="Permalink to this headline">¶</a></h2>
<div class="highlight-text"><div class="highlight"><pre>Recompiles less files in an environment.

Usage:
  datacats less [ENVIRONMENT]

ENVIRONMENT may be an environment name or a path to an environment directory.
Default: &#39;.&#39;
</pre></div>
</div>
</div>
<div class="section" id="list">
<h2>list<a class="headerlink" href="#list" title="Permalink to this headline">¶</a></h2>
<div class="highlight-text"><div class="highlight"><pre>List all environments for this user

Usage:
  datacats list
</pre></div>
</div>
</div>
<div class="section" id="logs">
<h2>logs<a class="headerlink" href="#logs" title="Permalink to this headline">¶</a></h2>
<div class="highlight-text"><div class="highlight"><pre>Display or follow container logs

Usage:
  datacats logs [--postgres | --solr | --datapusher] [-s NAME] [-tr] [--tail=LINES] [ENVIRONMENT]
  datacats logs -f [--postgres | --solr | --datapusher] [-s NAME] [-r] [ENVIRONMENT]

Options:
  --datapusher       Show logs for datapusher instead of web logs
  --postgres         Show postgres database logs instead of web logs
  -f --follow        Follow logs instead of exiting immediately
  -r --remote        Retrieve logs from DataCats.com cloud instance
  --solr             Show solr search logs instead of web logs
  -t --timestamps    Add timestamps to log lines
  -s --site=NAME     Specify a site for logs if needed [default: primary]
  --tail=LINES       Number of lines to show [default: all]

ENVIRONMENT may be an environment name or a path to an environment directory.
Default: &#39;.&#39;
</pre></div>
</div>
</div>
<div class="section" id="migrate">
<h2>migrate<a class="headerlink" href="#migrate" title="Permalink to this headline">¶</a></h2>
<div class="highlight-text"><div class="highlight"><pre>Migrate an environment to a given revision of the datadir format.

Usage:
  datacats migrate [-y] [-r VERSION] [ENVIRONMENT_DIR]

Options:
  -r --revision=VERSION  The version of the datadir format you want
                         to convert to [default: 2]
  -y --yes               Answer yes to all questions.

Defaults to &#39;.&#39; if ENVIRONMENT_DIR isn&#39;t specified.
</pre></div>
</div>
</div>
<div class="section" id="open">
<h2>open<a class="headerlink" href="#open" title="Permalink to this headline">¶</a></h2>
<div class="highlight-text"><div class="highlight"><pre>Open web browser window to this environment

Usage:
  datacats open [-r] [-s NAME] [ENVIRONMENT]

Options:
  -r --remote        Open DataCats.com cloud instance address
  -s --site=NAME     Choose a site to open [default: primary]

ENVIRONMENT may be an environment name or a path to an environment directory.
Default: &#39;.&#39;
</pre></div>
</div>
</div>
<div class="section" id="paster">
<h2>paster<a class="headerlink" href="#paster" title="Permalink to this headline">¶</a></h2>
<div class="highlight-text"><div class="highlight"><pre>Run a paster command from the current directory

Usage:
  datacats paster [-d] [-s NAME] [COMMAND...]

Options:
  -s --site=NAME   Specify a site to run this paster command on [default: primary]
  -d --detach       Run the resulting container in the background

You must be inside a datacats environment to run this. The paster command will
run within your current directory inside the environment. You don&#39;t need to
specify the --plugin option. The --config option also need not be specified.
</pre></div>
</div>
</div>
<div class="section" id="pull">
<h2>pull<a class="headerlink" href="#pull" title="Permalink to this headline">¶</a></h2>
<div class="highlight-text"><div class="highlight"><pre>Download or update required datacats docker images

Usage:
  datacats pull [-a]

Options:
  -a --all           Pull optional images as well as required
                     images. Optional images will be pulled
                     when needed, but you can use this to make
                     sure you have all the images you need if
                     you are going offline.
</pre></div>
</div>
</div>
<div class="section" id="purge">
<h2>purge<a class="headerlink" href="#purge" title="Permalink to this headline">¶</a></h2>
<div class="highlight-text"><div class="highlight"><pre>Purge environment database and uploaded files

Usage:
  datacats purge [-s NAME | --delete-environment] [-y] [ENVIRONMENT]

Options:
  --delete-environment   Delete environment directory as well as its data, as
                         well as the data for **all** sites.
  -s --site=NAME         Specify a site to be purge [default: primary]
  -y --yes               Respond yes to all prompts (i.e. force)

ENVIRONMENT may be an environment name or a path to an environment directory.
Default: &#39;.&#39;
</pre></div>
</div>
</div>
<div class="section" id="reload">
<h2>reload<a class="headerlink" href="#reload" title="Permalink to this headline">¶</a></h2>
<div class="highlight-text"><div class="highlight"><pre>Reload environment source and configuration

Usage:
  datacats reload [-b] [-p|--no-watch] [--syslog] [-s NAME] [--address=IP] [ENVIRONMENT [PORT]]
  datacats reload -r [-b] [--syslog] [-s NAME] [--address=IP] [ENVIRONMENT]

Options:
  --address=IP       Address to listen on (Linux-only) [default: 127.0.0.1]
  -b --background    Don&#39;t wait for response from web server
  --no-watch         Do not automatically reload templates and .py files on change
  -p --production    Reload with apache and debug=false
  -r --remote        Reload DataCats.com cloud instance
  -s --site=NAME     Specify a site to reload [default: primary]
  --syslog           Log to the syslog

ENVIRONMENT may be an environment name or a path to an environment directory.
Default: &#39;.&#39;
</pre></div>
</div>
</div>
<div class="section" id="reset">
<h2>reset<a class="headerlink" href="#reset" title="Permalink to this headline">¶</a></h2>
<div class="highlight-text"><div class="highlight"><pre>Resets a site to the default state. This will re-initialize the
database and recreate the administrator account.

Usage:
  datacats reset [-yn] [-s NAME] [ENVIRONMENT]

Options:
  -s --site=NAME          The site to reset [default: primary]
  -y --yes                Respond yes to all questions
  -n --no-sysadmin        Don&#39;t prompt for a sysadmin password
</pre></div>
</div>
</div>
<div class="section" id="shell">
<h2>shell<a class="headerlink" href="#shell" title="Permalink to this headline">¶</a></h2>
<div class="highlight-text"><div class="highlight"><pre>Run a command or interactive shell within this environment

Usage:
  datacats [-d] [-s NAME] shell [ENVIRONMENT [COMMAND...]]

Options:
  -d --detach       Run the resulting container in the background
  -s --site=NAME   Specify a site to run the shell on [default: primary]

ENVIRONMENT may be an environment name or a path to an environment directory.
Default: &#39;.&#39;
</pre></div>
</div>
</div>
<div class="section" id="start">
<h2>start<a class="headerlink" href="#start" title="Permalink to this headline">¶</a></h2>
<div class="highlight-text"><div class="highlight"><pre>Create containers and start serving environment

Usage:
  datacats start [-b] [-p|--no-watch] [-s NAME] [--syslog] [--address=IP] [ENVIRONMENT [PORT]]
  datacats start -r [-b] [-s NAME] [--syslog] [--address=IP] [ENVIRONMENT]

Options:
  --address=IP       Address to listen on (Linux-only) [default: 127.0.0.1]
  -b --background    Don&#39;t wait for response from web server
  --no-watch         Do not automatically reload templates and .py files on change
  -p --production    Start with apache and debug=false
  -r --remote        Start DataCats.com cloud instance
  -s --site=NAME     Specify a site to start [default: primary]
  --syslog           Log to the syslog

ENVIRONMENT may be an environment name or a path to an environment directory.
Default: &#39;.&#39;
</pre></div>
</div>
</div>
<div class="section" id="stop">
<h2>stop<a class="headerlink" href="#stop" title="Permalink to this headline">¶</a></h2>
<div class="highlight-text"><div class="highlight"><pre>Stop serving environment and remove all its containers

Usage:
  datacats stop [-r] [-s NAME] [ENVIRONMENT]

Options:
  -r --remote        Stop DataCats.com cloud instance
  -s --site=NAME    Specify a site to stop. [default: primary]

ENVIRONMENT may be an environment name or a path to an environment directory.
Default: &#39;.&#39;
</pre></div>
</div>
</div>
<div class="section" id="tweak">
<h2>tweak<a class="headerlink" href="#tweak" title="Permalink to this headline">¶</a></h2>
<div class="highlight-text"><div class="highlight"><pre>Commands operating on environment data

Usage:
  datacats tweak [-s NAME] --install-postgis [ENVIRONMENT]

Options:
  --install-postgis    Install postgis in ckan database
  -s --site=NAME       Choose a site to tweak [default: primary]

ENVIRONMENT may be an environment name or a path to an environment directory.
Default: &#39;.&#39;
</pre></div>
</div>
</div>
<div class="section" id="datacats-lesscd">
<h2>datacats-lesscd<a class="headerlink" href="#datacats-lesscd" title="Permalink to this headline">¶</a></h2>
<div class="highlight-text"><div class="highlight"><pre>Watches a CKAN environment for changes in its .less files, and recompiles them when they do.

Usage:
  datacats-lesscd [--help] ENVIRONMENT

  --help -h         Show this help and quit.

ENVIRONMENT may be an environment name or a path to an environment directory.
Default: &#39;.&#39;
</pre></div>
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="changelog.html" class="btn btn-neutral float-right" title="Change Log">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="docker.html" class="btn btn-neutral" title="How datacats uses Docker"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, boxkite.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>